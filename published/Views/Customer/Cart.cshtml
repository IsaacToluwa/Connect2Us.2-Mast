@model IEnumerable<Connect2Us.Models.CustomerCartItem>

@{ 
    ViewBag.Title = "Shopping Cart";
}

<h2>@ViewBag.Title</h2>

@if (Model.Any())
{
    <table class="table">
        <tr>
            <th>
                Product
            </th>
            <th>
                Quantity
            </th>
            <th>
                Price
            </th>
            <th>
                Subtotal
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @item.ProductName
                </td>
                <td>
                    @item.Quantity
                </td>
                <td>
                    @item.Price.ToString("C")
                </td>
                <td>
                    @item.TotalPrice.ToString("C")
                </td>
                <td>
                    @using (Html.BeginForm("RemoveFromCart", "Customer", new { productId = item.ProductId, isRental = item.IsRental }, FormMethod.Post))
                    {
                        <button type="submit" class="btn btn-danger">Remove</button>
                    }
                </td>
            </tr>
        }

        <tr>
            <td colspan="3" style="text-align:right"><b>Total</b></td>
            <td><b>@Model.Sum(item => item.TotalPrice).ToString("C")</b></td>
            <td></td>
        </tr>

    </table>

    <p>
        @Html.ActionLink("Continue Shopping", "Browse", "Customer", null, new { @class = "btn btn-default" })
        @Html.ActionLink("Checkout", "Checkout", "Customer", null, new { @class = "btn btn-primary" })
    </p>
}
else
{
    <p>Your cart is empty.</p>
}